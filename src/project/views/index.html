<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Book Store</title>
    <link type="text/css" rel="stylesheet" href="static/css/style.css">
    <script type="text/javascript" src="/static/script/jquery-3.6.0.min.js"></script>
    <script>
        $(() => {
            $("#sub").click(() => {
                const pageNumber = $("#pn_input").val()
                window.location.href = "/main?pageNumber=" + pageNumber
            });

        })
    </script>
</head>
<body>

<div id="header">
    <img class="logo_img" alt="" src="static/img/logo.gif">
    <span class="wel_word">Online Bookstore</span>
    <div>
        <a href="/pages/user/login.html">Login</a> |
        <a href="/pages/user/signup.html">Signup</a> |
        <a href="/pages/cart/cart.html">Cart</a> |
        <a href="/pages/manager/manager.html">Manager</a>
    </div>
</div>

<div id="main">
    <div id="book">
        <div class="book_cond">
            Priceï¼š$ <label><input type="text" name="min"></label> - $ <label><input type="text" name="max"></label>
            <button>Search</button>
        </div>
        <div style="text-align: center">
            <span>3 items in cart</span>
            <div>
                Add<span style="color: red">A Brief History of Time</span>to cart
            </div>
        </div>
        {{range .Books}}
        <div class="b_list">
            <div class="img_div">
                <img class="book_img" alt="" src="https://m.media-amazon.com/images/I/{{.ImgPath}}.jpg"/>
            </div>
            <div class="book_info">
                <div class="book_add">
                    <button>Add To Cart</button>
                </div>
                <div class="book_name">
                    <a><b>Title: </b>{{.Title}}</a>
                </div>
                <div class="book_author">
                    <a><b>Author: </b>{{.Author}}</a>
                </div>
                <div class="book_price">
                    <a><b>Price: </b>${{.Price}}</a>
                </div>
                <div class="book_sales">
                    <a><b>Sale Amount: </b>{{.Sales}}</a>
                </div>
                <div class="book_amount">
                    <a><b>Stock: </b>{{.Stock}}</a>
                </div>
            </div>
        </div>
        {{end}}
    </div>

    <div id="page_nav">
        {{if .HasPrev}}
        <a href="/main">Home</a>
        <a href="/main?pageNumber={{.GetPrev}}">Prev</a>
        {{end}}
        {{.PageNumber}}
        {{if .HasNext}}
        <a href="/main?pageNumber={{.GetNext}}">Next</a>
        <a href="/main?pageNumber={{.TotalPages}}">End</a>
        {{end}}
        <br/>
        Total: {{.TotalPages}} Page{{if gt .TotalPages 1}}s{{end}},
        Total: {{.TotalRecords}} Record{{if gt .TotalRecords 1}}s{{end}},
        To Page<label><input value="{{.PageNumber}}" name="pn" id="pn_input"/></label>
        <input type="button" value="Go" id="sub">
    </div>

</div>

<div id="bottom">
    <span>Bookstore.Copyright &copy;2021</span>
</div>
</body>
</html>